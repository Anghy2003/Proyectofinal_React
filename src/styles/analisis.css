/* src/styles/analisis.css
   NUEVO DISE√ëO (igual a Usuarios) + FIX letras filtros (negro/plomo)
   + sin KPI ‚Äúposibles falsos‚Äù (layout soporta 3 o 4 con auto-fit)
*/

/* ===========================
   RESET + FUENTE
=========================== */
*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

/* ===========================
   THEME
=========================== */
:root {
  --sz-accent: #f95150;
  --sz-accent-2: #ff7473;

  --ink: #0f172a;
  --muted: rgba(71, 85, 105, 0.92);

  --glass: rgba(255, 255, 255, 0.56);
  --glass-strong: rgba(255, 255, 255, 0.72);
  --glass-border: rgba(255, 255, 255, 0.82);

  --shadow: 0 18px 55px rgba(15, 23, 42, 0.12);
  --shadow-strong: 0 22px 70px rgba(15, 23, 42, 0.16);

  --radius: 20px;
}

/* ===========================
   FONDO
=========================== */
.background {
  position: fixed;
  inset: 0;
  background-image: url("../assets/fondo.png");
  background-size: cover;
  background-position: center;
  filter: brightness(0.55);
  z-index: -2;
}

/* ===========================
   LAYOUT
=========================== */
.dashboard {
  position: relative;
  min-height: 100vh;
  display: flex;
  color: var(--ink);
}

/* Overlay m√≥vil (si lo usas luego) */
.sidebar-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.22);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  z-index: 9;
}

.card {
  background: var(--glass);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(22px);
  -webkit-backdrop-filter: blur(22px);
  box-shadow: var(--shadow);
  border-radius: var(--radius);
  color: var(--ink);
}

/* ===========================
   SIDEBAR (igual Usuarios)
=========================== */
.sidebar {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;

  width: 260px;
  padding: 18px 16px;

  background: rgba(255, 255, 255, 0.46);
  border: 1px solid var(--glass-border);
  backdrop-filter: blur(22px);
  -webkit-backdrop-filter: blur(22px);
  border-radius: 0 22px 22px 0;
  box-shadow: var(--shadow);

  display: flex;
  flex-direction: column;
  gap: 10px;

  z-index: 10;
}

.sidebar-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.sidebar-logo {
  width: 54px;
  height: 54px;
  object-fit: contain;
}

.sidebar-title {
  font-weight: 950;
  letter-spacing: -0.02em;
  color: var(--sz-accent);
  font-size: 1.02rem;
}

.sidebar-menu {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-top: 6px;
}

.sidebar-item {
  display: flex;
  align-items: center;
  gap: 12px;

  padding: 11px 14px;
  text-decoration: none;

  border-radius: 999px;
  color: rgba(15, 23, 42, 0.86);
  border: 1px solid transparent;

  transition: transform 0.18s ease, background 0.18s ease, border-color 0.18s ease, box-shadow 0.18s ease;
}

.sidebar-item:hover {
  background: rgba(249, 81, 80, 0.10);
  border-color: rgba(249, 81, 80, 0.55);
  transform: translateY(-1px);
  box-shadow: 0 14px 40px rgba(15, 23, 42, 0.10);
}

.sidebar-item.active {
  background: rgba(249, 81, 80, 0.14);
  border-color: #f95150;
  box-shadow: 0 18px 55px rgba(249, 81, 80, 0.22);
}

.sidebar-item span {
  font-weight: 950;
}

.nav-icon {
  width: 18px;
  height: 18px;
  opacity: 0.9;
}

.sidebar-section-label {
  padding: 10px 8px 4px;
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: rgba(71, 85, 105, 0.75);
}

.sidebar-footer {
  margin-top: auto;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.sidebar-connected {
  border-radius: 16px;
  padding: 12px 14px;
  border: 1px solid var(--glass-border);
  background: rgba(255, 255, 255, 0.50);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  box-shadow: 0 15px 40px rgba(15, 23, 42, 0.10);
}

.sidebar-connected-title {
  font-size: 0.78rem;
  color: rgba(71, 85, 105, 0.88);
  font-weight: 750;
}

.sidebar-connected-name {
  margin-top: 2px;
  font-weight: 950;
  color: var(--ink);
}

.sidebar-logout {
  background: rgba(255, 255, 255, 0.60);
  border-radius: 999px;
  border: 1px solid rgba(148, 163, 184, 0.45);
  color: var(--ink);
  padding: 10px 14px;
  cursor: pointer;
  font-size: 0.86rem;
  font-weight: 950;
  transition: transform 0.18s ease, border-color 0.18s ease, box-shadow 0.18s ease;
}

.sidebar-logout:hover {
  border-color: rgba(249, 81, 80, 0.65);
  transform: translateY(-1px);
  box-shadow: 0 18px 50px rgba(249, 81, 80, 0.16);
}

.sidebar-version {
  color: rgba(71, 85, 105, 0.72);
  font-size: 0.78rem;
}

/* ===========================
   MAIN (soporta analisis-main y el TSX antiguo reportes-main)
=========================== */
.analisis-main,
.reportes-main {
  flex: 1;
  margin-left: 280px;
  padding: 18px 22px;
  height: 100vh;
  overflow-y: auto;
  overflow-x: hidden;
}

.analisis-panel,
.reportes-panel {
  width: 100%;
  padding: 14px;
  border-radius: 26px;
}

/* ===========================
   UI states
=========================== */
.ui-error {
  margin: 8px 2px 0;
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(249, 81, 80, 0.35);
  background: rgba(249, 81, 80, 0.10);
  color: rgba(15, 23, 42, 0.92);
  font-weight: 900;
}

/* ===========================
   KPIs (auto-fit: queda bien con 3 tarjetas)
=========================== */
.kpi-row {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 14px;
  margin-top: 14px;
}

.kpi-card {
  padding: 14px 14px 12px;
  border-radius: 18px;
  border: 1px solid var(--glass-border);
  background: rgba(255, 255, 255, 0.56);
  backdrop-filter: blur(22px);
  -webkit-backdrop-filter: blur(22px);
  box-shadow: var(--shadow);
  color: var(--ink);
}

.kpi-label {
  font-size: 0.85rem;
  font-weight: 900;
  color: var(--muted);
}

.kpi-value {
  margin-top: 10px;
  font-size: 2.05rem;
  font-weight: 950;
  letter-spacing: -0.04em;
  color: rgba(15, 23, 42, 0.94);
}

/* ===========================
   FILTERS ‚Äî FIX letras (negro/plomo) + evitar herencias ‚Äúdark‚Äù
=========================== */
.filters-row {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 10px;

  /* Esto es CLAVE si tienes color-scheme: dark en otro CSS */
  color-scheme: light;
}

/* Pilas consistentes (no full width accidental) */
.filters-row .filter-pill,
.filters-row .filter-date {
  height: 42px;
  border-radius: 999px;
  padding: 0 14px;

  border: 1px solid rgba(148, 163, 184, 0.55);
  background: rgba(255, 255, 255, 0.92);
  box-shadow: 0 14px 40px rgba(15, 23, 42, 0.08);

  /* FORZAR texto oscuro s√≠ o s√≠ */
  color: rgba(15, 23, 42, 0.92) !important;
  -webkit-text-fill-color: rgba(15, 23, 42, 0.92) !important;

  font-weight: 900;
  outline: none;

  /* evita que alg√∫n CSS viejo les ponga width:100% */
  width: auto !important;
  flex: 1 1 220px;
  min-width: 220px;
}

.filters-row .filter-pill:focus,
.filters-row .filter-date:focus {
  border-color: rgba(249, 81, 80, 0.55);
  box-shadow: 0 18px 55px rgba(249, 81, 80, 0.10);
}

.filters-row .filter-pill::placeholder {
  color: rgba(71, 85, 105, 0.85) !important; /* plomo */
  -webkit-text-fill-color: rgba(71, 85, 105, 0.85) !important;
}

/* Dropdown options */
.filters-row .filter-pill option {
  background: #ffffff !important;
  color: #0f172a !important;
}

/* Input date (Chrome/Edge) */
.filters-row .filter-date {
  padding-right: 12px;
}

.filters-row .filter-date::-webkit-datetime-edit,
.filters-row .filter-date::-webkit-datetime-edit-text,
.filters-row .filter-date::-webkit-datetime-edit-month-field,
.filters-row .filter-date::-webkit-datetime-edit-day-field,
.filters-row .filter-date::-webkit-datetime-edit-year-field {
  color: rgba(15, 23, 42, 0.92) !important;
  -webkit-text-fill-color: rgba(15, 23, 42, 0.92) !important;
}

.filters-row .filter-date::-webkit-calendar-picker-indicator {
  opacity: 0.75;
}
/* ===========================
   Grafico
=========================== */
.line-chart-wrap5 {
  margin-top: 200px;
  height: 480px;
}


.donut-total3 {
  font-weight: 950;
  font-size: 1.9rem;
  color: rgba(15, 23, 42, 0.94);
  line-height: 1.05;
}

.donut-label3 {
  margin-top: 2px;
  font-size: 0.84rem;
  font-weight: 900;
  color: rgba(71, 85, 105, 0.92);
}

/* ===========================
   Top
=========================== */
.toplist {
  margin-top: 12px;
  border-radius: 16px;
  border: 1px solid var(--topbar-border, rgba(226, 232, 240, 0.9));
  background: var(--topbar-bg, rgba(226, 245, 255, 0.55));
  padding: 12px;
}

.toplist-title {
  font-weight: 950;
  color: rgba(15, 23, 42, 0.94);
}

.toplist-sub {
  margin-top: 2px;
  font-size: 0.84rem;
  font-weight: 750;
  color: rgba(71, 85, 105, 0.90);
}

/* Contenedor ‚Äúchart‚Äù interno tipo tarjeta */
.toplist-items {
  margin-top: 10px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.45);
  border: 1px solid rgba(255, 255, 255, 0.72);
  padding: 10px;
}

/* Row estilo barra */
.toplist-row{
  position: relative;
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  column-gap: 14px;

  height: 25px;               
  padding: 0 12px;            
  border-radius: 999px;

  /* track gris */
  background: rgba(226, 232, 240, 0.60);
  border: 1px solid rgba(255,255,255,0.75);
  overflow: hidden;

  margin-bottom: 12px;
}

.toplist-row:last-child{
  margin-bottom: 0;
}

/* ‚ÄúRelleno‚Äù verde/menta (la barra). Depende de --p */
.toplist-row::before{
  content: "";
  position: absolute;
  inset: 0;
  width: var(--p, 40%);       
  border-radius: 999px;
  background: rgba(93, 206, 170, 0.62); 
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.45);
}

/* Para que el texto quede encima del fill */
.toplist-name,
.toplist-val {
  position: relative;
  z-index: 1;
}

.toplist-name{
  font-weight: 900;
  color: rgba(15,23,42,0.88);
  min-width: 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* para que el texto no quede pegado al borde */
  padding-left: 8px;
}

/* Valor a la derecha como ‚Äúpill‚Äù */
.toplist-val{
  font-weight: 950;
  color: rgba(15,23,42,0.92);

  background: transparent;  
  border: 0;
  padding: 0;
  min-width: 28px;
  text-align: right;
}

/* Empty (ya lo tienes, lo dejo igual) */
.toplist-empty {
  padding: 10px;
  border-radius: 14px;
  border: 1px dashed rgba(148, 163, 184, 0.60);
  color: rgba(71, 85, 105, 0.92);
  font-weight: 900;
}



/* ===========================
   TABLA (usa tus clases actuales: tabla-ia / tabla-anali / tabla-analisis)
=========================== */
.tabla-ia {
  margin-top: 14px;
  border-radius: 24px;
  padding: 12px;

  border: 1px solid rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(22px);
  -webkit-backdrop-filter: blur(22px);
  background: rgba(255, 255, 255, 0.30);

  overflow: auto;
}

.tabla-anali {
  overflow: auto;
  border-radius: 18px;
  border: 1px solid rgba(15, 23, 42, 0.06);
  background: rgba(255, 255, 255, 0.35);

  scrollbar-gutter: stable both-edges;
  -webkit-overflow-scrolling: touch;
}

.tabla-analisis {
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed;
  font-size: 0.86rem;
  color: rgba(15, 23, 42, 0.92);
}

.tabla-analisis th,
.tabla-analisis td {
  padding: 10px 12px;
  border-bottom: 1px solid rgba(15, 23, 42, 0.06);
  text-align: left;
  vertical-align: top;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.tabla-analisis thead th {
  font-weight: 950;
  background: rgba(255, 255, 255, 0.55);
  position: sticky;
  top: 0;
  z-index: 2;
  border-bottom: 1px solid rgba(15, 23, 42, 0.10);
}

.tabla-analisis tbody tr:hover {
  background: rgba(249, 81, 80, 0.06);
  transition: background 0.18s ease;
}

.cell-wrap {
  white-space: normal;
  overflow-wrap: break-word;
  word-break: normal;
  line-height: 1.35;
}

.mini-list {
  margin: 0;
  padding-left: 16px;
}

.mini-list li {
  margin: 2px 0;
  line-height: 1.3;
  font-size: 0.83rem;
}

/* Badges */
.badge {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 950;
  color: #fff;
}

.badge-ok { background: #16a34a; }
.badge-warning { background: #f59e0b; }
.badge-bad { background: #ef4444; }
.badge-neutral { background: rgba(15, 23, 42, 0.55); }

.panel-update {
  font-size: 0.78rem;
  color: rgba(71, 85, 105, 0.85);
  margin: 12px 4px 0;
  text-align: right;
  font-weight: 850;
}

.tabla-card{
  margin-top: 22px;   /* üëà baja la tabla (ajusta 16-32px a tu gusto) */
}

/* ===========================
   Responsive
=========================== */
@media (max-width: 1200px) {
  .filters-row .filter-pill,
  .filters-row .filter-date {
    min-width: 200px;
  }
}

@media (max-width: 900px) {
  .sidebar {
    width: min(86vw, 320px);
    border-radius: 0 18px 18px 0;
    transform: translateX(-110%);
    transition: transform 240ms ease;
  }

  .sidebar.open { transform: translateX(0); }

  .analisis-main,
  .reportes-main {
    margin-left: 0;
    padding: 14px 12px;
  }
}

@media (max-width: 650px) {
  .filters-row .filter-pill,
  .filters-row .filter-date {
    min-width: 100%;
    flex: 1 1 100%;
  }

  .tabla-analisis {
    min-width: 1400px;
  }
}


/* ‚úÖ wrapper de tabla con scroll si hace falta */
.tabla-wrap{
  overflow: auto;
  border-radius: 18px;
  border: 1px solid rgba(15, 23, 42, 0.06);
  background: rgba(255, 255, 255, 0.35);
  scrollbar-gutter: stable both-edges;
  -webkit-overflow-scrolling: touch;
}

/* Mant√©n tu tabla */
.tabla-analisis{
  width: 100%;
  border-collapse: collapse;
  table-layout: fixed; /* importante para columnas */
  font-size: 0.86rem;
  color: rgba(15, 23, 42, 0.92);
  min-width: 1100px;   /* ‚úÖ fuerza scroll horizontal cuando falte espacio */
}

/* Base: NO cortar texto para celdas normales */
.tabla-analisis th,
.tabla-analisis td{
  padding: 10px 12px;
  border-bottom: 1px solid rgba(15, 23, 42, 0.06);
  text-align: left;
  vertical-align: top;
}

/* ‚úÖ Mantener en una sola l√≠nea en columnas ‚Äúcortas‚Äù */
.tabla-analisis td:not(.cell-wrap){
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ‚úÖ Motivos y Riesgos: permitir salto de l√≠nea y ver TODO */
.tabla-analisis td.cell-wrap{
  white-space: normal !important;
  overflow: visible !important;
  text-overflow: unset !important;
  word-break: break-word;
  overflow-wrap: anywhere;
  line-height: 1.35;
}

/* Lista bonita */
.mini-list{
  margin: 0;
  padding-left: 16px;
}
.mini-list li{
  margin: 2px 0;
  line-height: 1.3;
  font-size: 0.83rem;
}

/* Sticky header OK */
.tabla-analisis thead th{
  font-weight: 950;
  background: rgba(255, 255, 255, 0.55);
  position: sticky;
  top: 0;
  z-index: 2;
  border-bottom: 1px solid rgba(15, 23, 42, 0.10);
}

/* =========================
   EXPORT MODAL
========================= */

.anx-modal-backdrop{
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: grid;
  place-items: center;
  padding: 18px;
  background: rgba(2, 6, 23, 0.28);
  backdrop-filter: blur(8px);
}

.anx-modal-card.anx-export-card{
  width: min(980px, 96vw);
  border-radius: 22px;
  background: rgba(255,255,255,0.80);
  border: 1px solid rgba(15,23,42,0.10);
  box-shadow:
    0 30px 70px rgba(2,6,23,0.22),
    0 10px 25px rgba(2,6,23,0.10);
  overflow: hidden;
}

/* Header */
.anx-modal-head{
  display:flex;
  align-items:flex-start;
  justify-content: space-between;
  gap: 14px;
  padding: 20px 22px 12px;
  border-bottom: 1px solid rgba(15,23,42,0.06);
}

.anx-modal-title{
  font-size: 34px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: #0f172a;
  line-height: 1.05;
}

.anx-modal-sub{
  margin-top: 6px;
  font-size: 14px;
  font-weight: 700;
  color: rgba(51, 65, 85, 0.80);
}

/* Bot√≥n X (centrado y visible) */
.anx-modal-x{
  width: 46px;
  height: 46px;
  min-width: 46px;
  border-radius: 14px;
  border: 1px solid rgba(15,23,42,0.12);
  background: rgba(255,255,255,0.86);
  box-shadow: 0 10px 18px rgba(2,6,23,0.10);
  display: grid;
  place-items: center; /* <-- centra el icono */
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}

.anx-modal-x svg{
  display:block;
  color: rgba(15,23,42,0.88);
}

.anx-modal-x:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.95);
  box-shadow: 0 14px 24px rgba(2,6,23,0.14);
}
.anx-modal-x:active{ transform: translateY(0px) scale(0.99); }

/* Grid columnas */
.anx-export-grid{
  display: grid;
  grid-template-columns: minmax(0,1fr) minmax(0,1fr);
  gap: 16px;
  padding: 16px 22px 8px;
}

@media (max-width: 860px){
  .anx-export-grid{ grid-template-columns: 1fr; }
}

.anx-export-col{
  background: rgba(255,255,255,0.60);
  border: 1px solid rgba(15,23,42,0.08);
  border-radius: 18px;
  padding: 14px;
  box-shadow: 0 12px 24px rgba(2,6,23,0.06);
}

/* T√≠tulos secci√≥n */
.anx-export-title{
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 900;
  color: #0f172a;
  margin: 2px 2px 12px;
  font-size: 16px;
}

.anx-dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  background: #f95150;
  box-shadow: 0 6px 14px rgba(249,81,80,0.22);
}

/* =========================
   ITEMS (Formato / Contenido)
   - Switch primero, luego icono, luego texto
========================= */
.anx-export-item{
  width: 100%;
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 14px;
  border-radius: 16px;
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.72);
  cursor: pointer;
  text-align: left;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease, border-color .12s ease;
  user-select: none;
}

.anx-export-item + .anx-export-item{ margin-top: 10px; }

.anx-export-item:hover{
  transform: translateY(-1px);
  box-shadow: 0 14px 26px rgba(2,6,23,0.08);
  background: rgba(255,255,255,0.82);
}

/* Estado seleccionado del item */
.anx-export-item.active{
  border-color: rgba(249,81,80,0.60);
  background: rgba(249,81,80,0.08);
  box-shadow:
    inset 0 0 0 1px rgba(249,81,80,0.18),
    0 16px 30px rgba(249,81,80,0.10);
}

/* Nombre */
.anx-export-name{
  font-size: 16px;
  font-weight: 900;
  color: #0f172a;
  line-height: 1.15;
}

/* Icono del item (NO cambia de color al seleccionar) */
.anx-export-ico{
  width: 44px;
  height: 44px;
  min-width: 44px;
  border-radius: 14px;
  display: grid;
  place-items: center;
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.86);
  box-shadow: 0 10px 16px rgba(2,6,23,0.08);
}

.anx-export-ico svg{
  color: rgba(15,23,42,0.78); /* constante */
}

/* Mantener constante incluso en .active */
.anx-export-item.active .anx-export-ico{
  border-color: rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.86);
}
.anx-export-item.active .anx-export-ico svg{
  color: rgba(15,23,42,0.78);
}

/* =========================
   SWITCH estilo "Opciones"
   (Sirve para Formato/Contenido y tambi√©n Opciones)
   Si en Formato/Contenido est√°s usando un span con clase:
   .anx-switch  -> quedar√° igual al de Opciones.
========================= */

/* Contenedor switch (alineado a la izquierda) */
.anx-switch{
  width: 46px;
  height: 28px;
  min-width: 46px;
  border-radius: 999px;
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: flex-start;
  padding: 3px;
  background: rgba(255,255,255,0.70);
  border: 1px solid rgba(15,23,42,0.18);
  box-shadow:
    inset 0 10px 20px rgba(2,6,23,0.06),
    0 10px 16px rgba(2,6,23,0.08);
}

/* ‚ÄúPerilla‚Äù */
.anx-switch::after{
  content:"";
  width: 20px;
  height: 20px;
  border-radius: 999px;
  background: #ffffff;
  box-shadow: 0 8px 14px rgba(2,6,23,0.18);
  transform: translateX(0px);
  transition: transform .18s ease, box-shadow .18s ease;
}

/* ON */
.anx-switch.on{
  border-color: rgba(249,81,80,0.55);
  background: rgba(249,81,80,0.18);
  box-shadow:
    inset 0 10px 20px rgba(249,81,80,0.10),
    0 10px 16px rgba(2,6,23,0.08);
}
.anx-switch.on::after{
  transform: translateX(18px);
  box-shadow: 0 10px 18px rgba(249,81,80,0.18);
}

/* Si en Formato/Contenido no tienes .anx-switch.on en el markup,
   puedes ‚Äúengancharlo‚Äù a .active autom√°ticamente: */
.anx-export-item.active .anx-switch{
  border-color: rgba(249,81,80,0.55);
  background: rgba(249,81,80,0.18);
}
.anx-export-item.active .anx-switch::after{
  transform: translateX(18px);
}

/* Quita color de iconos ToggleLeft/ToggleRight si a√∫n los usas en Opciones */
.anx-switch svg{
  display:none; /* para que quede el switch ‚Äúlimpio‚Äù como la imagen */
}

/* =========================
   OPCIONES
========================= */
.anx-export-options{
  margin: 10px 22px 0;
  padding: 14px;
  border-radius: 18px;
  background: rgba(249,81,80,0.08);
  border: 1px solid rgba(249,81,80,0.22);
  box-shadow: 0 16px 30px rgba(249,81,80,0.08);
}

.anx-opt{
  width: 100%;
  display:flex;
  align-items:center;
  justify-content: space-between;

  gap: 14px;
  padding: 14px 14px;
  border-radius: 16px;
  border: 1px solid rgba(249,81,80,0.30);
  background: rgba(255,255,255,0.70);
  cursor: pointer;
  text-align:left;
  user-select:none;

  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}

.anx-opt + .anx-opt{ margin-top: 10px; }

.anx-opt:hover{
  transform: translateY(-1px);
  box-shadow: 0 14px 26px rgba(2,6,23,0.08);
  background: rgba(255,255,255,0.82);
}

.anx-opt-text{
  font-weight: 900;
  color: #0f172a;
  line-height: 1.2;
}

.anx-export-count{
  margin-top: 12px;
  padding: 12px 14px;
  border-radius: 14px;
  background: rgba(255,255,255,0.62);
  border: 1px solid rgba(15,23,42,0.08);
  color: rgba(15,23,42,0.78);
  font-weight: 900;
}

/* =========================
   FOOTER BOTONES
========================= */
.anx-export-footer{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  padding: 16px 22px 20px;
  border-top: 1px solid rgba(15,23,42,0.06);
}

.anx-btn-light,
.anx-btn-accent{
  border: 0;
  border-radius: 999px;
  padding: 12px 18px;
  font-weight: 900;
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}

.anx-btn-light{
  background: rgba(255,255,255,0.90);
  border: 1px solid rgba(15,23,42,0.12);
  color: rgba(15,23,42,0.90);
  box-shadow: 0 12px 22px rgba(2,6,23,0.08);
}

.anx-btn-light:hover{ transform: translateY(-1px); }
.anx-btn-light:active{ transform: translateY(0px) scale(0.99); }

.anx-btn-accent{
  background: linear-gradient(135deg, #f95150, #ff7473);
  color: #fff;
  box-shadow: 0 18px 30px rgba(249,81,80,0.22);
}

.anx-btn-accent:hover{ transform: translateY(-1px); filter: brightness(1.02); }
.anx-btn-accent:active{ transform: translateY(0px) scale(0.99); }

.anx-btn-accent:disabled,
.anx-btn-light:disabled{
  opacity: .55;
  cursor: not-allowed;
  transform: none !important;
  box-shadow: none !important;
}

/* =========================
   FIX: quitar borde negro (focus/active)
========================= */

/* Quita outline/borde negro del navegador */
.anx-modal-x,
.anx-btn-light,
.anx-btn-accent {
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

/* En foco (click o tab) */
.anx-modal-x:focus,
.anx-btn-light:focus,
.anx-btn-accent:focus,
.anx-modal-x:focus-visible,
.anx-btn-light:focus-visible,
.anx-btn-accent:focus-visible {
  outline: none;
  box-shadow: none;
}

/* En algunos navegadores aparece borde interno */
.anx-modal-x::-moz-focus-inner,
.anx-btn-light::-moz-focus-inner,
.anx-btn-accent::-moz-focus-inner {
  border: 0;
}

.anx-modal-x{
  width: 46px;
  height: 46px;
  min-width: 46px;
  border-radius: 14px;
  border: 1px solid rgba(15,23,42,0.12);
  background: rgba(255,255,255,0.86);
  box-shadow: 0 10px 18px rgba(2,6,23,0.10);

  display: flex;
  align-items: center;
  justify-content: center;

  padding: 0;        /* clave */
  line-height: 0;    /* clave */
  cursor: pointer;

  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}

.anx-modal-x svg{
  display:block;
}

.anx-btn-accent{
  background: rgba(255,255,255,0.62);
  border: 1px solid rgba(249,81,80,0.70);
  color: #f95150;

  border-radius: 999px;
  padding: 12px 22px;
  font-weight: 900;

  box-shadow: 0 16px 28px rgba(249,81,80,0.12);
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease, filter .12s ease;
}

.anx-btn-accent:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.78);
  box-shadow: 0 18px 34px rgba(249,81,80,0.16);
}

.anx-btn-accent:active{
  transform: translateY(0px) scale(0.99);
}


/* ======================================
   FIX FINAL ‚Äî anx-btn-accent (Exportar ahora)
   Fuerza rosado real (NO blanco)
====================================== */
.anx-btn-accent{
  background-color: #fde8e8 !important;   /* rosado s√≥lido */
  background-image: none !important;      /* elimina gradients */
  border: 1.5px solid #f95150 !important;
  color: #f95150 !important;

  border-radius: 999px;
  padding: 12px 26px;
  font-weight: 900;
  font-size: 15px;

  box-shadow:
    inset 0 0 0 1px rgba(249,81,80,0.12),
    0 10px 22px rgba(249,81,80,0.20);

  cursor: pointer;
  transition:
    background-color 0.15s ease,
    box-shadow 0.15s ease,
    transform 0.12s ease;
}

/* Hover */
.anx-btn-accent:hover{
  background-color: #fbdcdc !important;
  box-shadow:
    inset 0 0 0 1px rgba(249,81,80,0.16),
    0 14px 28px rgba(249,81,80,0.25);
  transform: translateY(-1px);
}

/* Active */
.anx-btn-accent:active{
  background-color: #f9caca !important;
  transform: translateY(0) scale(0.99);
}

/* Disabled */
.anx-btn-accent:disabled{
  background-color: #fde8e8 !important;
  opacity: 0.55;
  box-shadow: none;
}

/* =========================================================
   FIX GLOBAL ‚Äî eliminar borde negro (focus/active)
   Modal Reportes / An√°lisis
========================================================= */

/* 1. Quitar outline del navegador en TODOS los elementos del modal */
.anx-modal-card * {
  outline: none;
}

/* 2. Quitar borde negro al hacer click (active/focus) */
.anx-modal-card button,
.anx-modal-card [role="button"],
.anx-modal-card .anx-export-item,
.anx-modal-card .anx-opt,
.anx-modal-card .anx-switch {
  outline: none;
  box-shadow: none;
}

/* 3. Focus y focus-visible (Chrome / Edge / Firefox) */
.anx-modal-card button:focus,
.anx-modal-card button:focus-visible,
.anx-modal-card [role="button"]:focus,
.anx-modal-card [role="button"]:focus-visible,
.anx-modal-card .anx-export-item:focus,
.anx-modal-card .anx-export-item:focus-visible,
.anx-modal-card .anx-opt:focus,
.anx-modal-card .anx-opt:focus-visible {
  outline: none !important;
  box-shadow: none !important;
}

/* 4. Firefox (borde interno feo) */
.anx-modal-card *::-moz-focus-inner {
  border: 0;
}

/* =========================================================
   FOCUS PRO (opcional pero recomendado)
   Reemplaza el negro por rojo suave
========================================================= */
.anx-modal-card button:focus-visible,
.anx-modal-card .anx-export-item:focus-visible,
.anx-modal-card .anx-opt:focus-visible {
  border-color: rgba(249, 81, 80, 0.55);
  box-shadow: 0 0 0 3px rgba(249, 81, 80, 0.14);
}


/* =========================
   TABLA COMPACTA (ARRIBA)
========================= */
.table-card-v2 {
  overflow: hidden;
}

.tabla-wrap-compact {
  overflow: auto;
  padding-bottom: 6px;
}

.tabla-compact th,
.tabla-compact td {
  white-space: nowrap;
}

.cell-ellipsis {
  max-width: 220px;
  overflow: hidden;
  text-overflow: ellipsis;
}

.col-id {
  width: 70px;
}

.col-prio {
  width: 120px;
}

.col-ver {
  width: 110px;
}

.row-action {
  display: inline-flex;
  align-items: center;
  gap: 8px;

  padding: 8px 10px;
  border-radius: 12px;

  border: 1px solid rgba(15, 23, 42, 0.14);
  background: rgba(255, 255, 255, 0.72);
  color: rgba(15, 23, 42, 0.88);

  font-weight: 800;
  cursor: pointer;
  transition: transform 0.14s ease, box-shadow 0.14s ease, border-color 0.14s ease;
}

.row-action:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 18px rgba(15, 23, 42, 0.10);
  border-color: rgba(249, 81, 80, 0.35);
}

/* =========================
   GR√ÅFICA ABAJO
========================= */
.chart-card-bottom {
  margin-top: 14px;
}

/* =========================
   MODAL DETALLE (VER)
========================= */
.anx-detail-card {
  max-width: 980px;
}

.anx-detail-grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 12px;
  margin-top: 12px;
}

.anx-detail-block {
  border: 1px solid rgba(255, 255, 255, 0.72);
  background: rgba(255, 255, 255, 0.62);
  border-radius: 18px;
  padding: 12px;
}

.anx-detail-title {
  font-weight: 900;
  color: rgba(15, 23, 42, 0.92);
  margin-bottom: 8px;
}

.anx-kv {
  display: grid;
  gap: 8px;
}

.anx-kv-row {
  display: grid;
  grid-template-columns: 140px minmax(0, 1fr);
  gap: 10px;
  padding: 10px 10px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.55);
  border: 1px solid rgba(15, 23, 42, 0.08);
}

.anx-k {
  font-weight: 900;
  color: rgba(15, 23, 42, 0.68);
}

.anx-v {
  font-weight: 800;
  color: rgba(15, 23, 42, 0.90);
  overflow: hidden;
  text-overflow: ellipsis;
}

.anx-list {
  margin: 0;
  padding-left: 18px;
  color: rgba(15, 23, 42, 0.86);
  font-weight: 700;
}

.anx-empty {
  color: rgba(15, 23, 42, 0.55);
  font-weight: 800;
  padding: 8px 0;
}


@media (max-width: 860px) {
  .anx-detail-grid {
    grid-template-columns: 1fr;
  }
  .anx-kv-row {
    grid-template-columns: 1fr;
  }
  .cell-ellipsis {
    max-width: 160px;
  }
}


.tabla-wrap-compact{
  overflow-x: hidden;  
  overflow-y: auto;    
}

.tabla-analisis.tabla-compact{
  width: 100%;
  table-layout: fixed;  /* üëà clave */
}


.tabla-analisis.tabla-compact th,
.tabla-analisis.tabla-compact td{
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}


.tabla-analisis.tabla-compact th.col-id,
.tabla-analisis.tabla-compact td.col-id{
  width: 90px;
}

.tabla-analisis.tabla-compact th.col-usu,
.tabla-analisis.tabla-compact td.col-usu{
  width: 150px;
}

.tabla-analisis.tabla-compact th.col-comu,
.tabla-analisis.tabla-compact td.col-comu{
  width: 80px;
}

.tabla-analisis.tabla-compact th.col-cate,
.tabla-analisis.tabla-compact td.col-cate{
  width: 190px;
}

.tabla-analisis.tabla-compact th.col-prio,
.tabla-analisis.tabla-compact td.col-prio{
  width: 140px;
}

.tabla-analisis.tabla-compact th.col-ver,
.tabla-analisis.tabla-compact td.col-ver{
  width: 80px;
}

.tabla-analisis.tabla-compact td.cell-ellipsis{
  width: auto;
  max-width: unset;
}



.grid-2col{
  align-items: stretch;
}


.table-card-v2{
  display: flex;
  flex-direction: column;
  height: 100%;
  min-height: 620px; 
}

.table-card-v2 .chart-head{
  flex: 0 0 auto;
}

.table-card-v2 .tabla-wrap-compact{
  flex: 1 1 auto;
  min-height: 0; 
}


@media (max-width: 1100px){
  .tabla-wrap-compact{
    overflow-x: auto; 
    overflow-y: auto; 
    -webkit-overflow-scrolling: touch;
  }

  .tabla-analisis.tabla-compact{
    width: max-content;  
    min-width: 900px; 
    table-layout: auto;   
  }
}


@media (max-width: 768px){
  .tabla-wrap-compact{
    overflow-x: auto;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  .tabla-analisis.tabla-compact{
    width: max-content;
    min-width: 880px;
    table-layout: auto;
  }
}


.tabla-wrap-compact{
  overflow-x: hidden;
  overflow-y: auto;
}


@media (max-width: 1100px){
  .tabla-wrap-compact{
    overflow-x: auto;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .tabla-analisis.tabla-compact{
    width: max-content;
    min-width: 900px;
    table-layout: auto;
  }
}

.tabla-wrap-compact{
  width: 100%;
  overflow-y: auto;
  overflow-x: visible; 
}

.tabla-analisis.tabla-compact{
  width: 100%;
  min-width: 0;
  table-layout: auto;
}

@media (max-width: 1100px){
  .tabla-wrap-compact{
    overflow-x: auto;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }

  .tabla-analisis.tabla-compact{
    width: max-content;
    min-width: 980px; 
    table-layout: auto;
  }
}

/* =========================
   CUADRO DETR√ÅS DEL CONTENIDO (como Usuarios)
========================= */
.anx-modal-body{
  margin-top: 12px;
  padding: 16px;
  border-radius: 22px;

  /* fondo tipo ‚Äúpanel‚Äù detr√°s */
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(255, 255, 255, 0.85);

  box-shadow:
    0 18px 40px rgba(15, 23, 42, 0.10),
    inset 0 1px 0 rgba(255, 255, 255, 0.65);

  /* para que el contenido no se salga */
  overflow: hidden;
}

/* opcional: si tu grid tiene m√°rgenes raros */
.anx-detail-grid{
  margin: 0;
}
